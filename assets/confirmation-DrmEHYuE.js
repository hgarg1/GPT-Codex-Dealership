import"./main-B_LMwuck.js";const A="America/New_York",N=(e,n,i,o,a,r)=>{const c=new Date(Date.UTC(e,n-1,i,o,a)),l=new Date(c.toLocaleString("en-US",{timeZone:r})),u=c.getTime()-l.getTime();return new Date(c.getTime()+u)},U=(e,n)=>{if(!e)return"";const[i,o,a]=e.split("-").map(Number),r=N(i,o,a,12,0,A);return new Intl.DateTimeFormat("en-US",{timeZone:n,weekday:"short",month:"short",day:"numeric"}).format(r)},p=e=>{const n=e.getUTCFullYear(),i=String(e.getUTCMonth()+1).padStart(2,"0"),o=String(e.getUTCDate()).padStart(2,"0"),a=String(e.getUTCHours()).padStart(2,"0"),r=String(e.getUTCMinutes()).padStart(2,"0"),c=String(e.getUTCSeconds()).padStart(2,"0");return`${n}${i}${o}T${a}${r}${c}Z`},S=sessionStorage.getItem("apexAppointment"),t=S?JSON.parse(S):null,m=document.querySelector("[data-confirm-lead]"),f=document.querySelector("[data-confirm-name]"),g=document.querySelector("[data-confirm-date]"),T=document.querySelector("[data-confirm-time]"),C=document.querySelector("[data-confirm-zone]"),D=document.querySelector("[data-confirm-channel]"),d=document.querySelector("[data-calendar-google]"),s=document.querySelector("[data-calendar-ics]");if(t){const e=U(t.dateValue,t.timeZone);if(m&&e&&t.timeLabel&&(m.textContent=`We have reserved ${e} at ${t.timeLabel} (${t.timeZoneLabel}).`),f&&(f.textContent=t.name||"Guest"),g&&(g.textContent=e||"To be confirmed"),T&&(T.textContent=t.timeLabel||"To be confirmed"),C&&(C.textContent=t.timeZoneLabel||t.timeZone||"Local"),D&&(D.textContent=t.channel||"Email"),t.utc&&d&&s){const n=new Date(t.utc),i=new Date(n.getTime()+3600*1e3),o=p(n),a=p(i),r=encodeURIComponent("Your private Apex Motor Co. appointment. A concierge advisor will share arrival notes and a vehicle dossier."),c=encodeURIComponent("214 Meridian Avenue, Suite 810, New York, NY 10010"),l=encodeURIComponent("Apex Motor Co. Private Appointment"),u=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${l}&dates=${o}/${a}&details=${r}&location=${c}&ctz=${t.timeZone}`;d.href=u;const b=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Apex Motor Co//Appointment//EN","BEGIN:VEVENT",`DTSTART:${o}`,`DTEND:${a}`,`SUMMARY:${l}`,`DESCRIPTION:${r}`,`LOCATION:${c}`,"END:VEVENT","END:VCALENDAR"].join(`
`),$=new Blob([b],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL($);s.href=h,s.download="apex-appointment.ics"}}else m&&(m.textContent="Your appointment details will appear here once you submit a concierge request."),d&&d.setAttribute("aria-disabled","true"),s&&s.setAttribute("aria-disabled","true");
